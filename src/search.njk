---
title: Search
layout: default
---
<form id="searchForm" class="center">
  <input type="text" name="q" placeholder="Search...">
  <button type="submit" aria-label="Search" class="search-icon"><img src="/images/icons/search.svg" alt="Search Icon"></button>
</form>
<style>
  #searchForm {
    display: grid;
    grid-template-columns: auto max-content;
    border-bottom: var(--border);
    max-width: var(--max-line);
    margin: auto;
  }
  #searchForm > * {
    margin: 0;
    border: none;
  }
  #searchForm input {
    padding-inline: 0;
    border-radius: 0;
  }
  #searchForm button {
    padding: 0;
  }
  #searchForm button:hover {
    background-color: var(--color-bg);
    color: var(--color-text);
  }
  #searchForm .search-icon img {
    height: var(--ts-h4);
  }
</style>
<div id="searchResults"></div>
<script>
  const searchParams = new URLSearchParams(window.location.search)
  const query = searchParams.get("q")
  const searchResults = document.getElementById("searchResults")

  if (query) {
    document.getElementById("query").value = query;
    fetch(`/api/search?q=${query}`)
    .then(res => {
      return res.json()
    })
    .then(res => {
      result = (res.length > 0) ? res.map(generateHTML).join("") : "<p>No results found</p>"
      searchResults.innerHTML = result;
    })
  }

  function generateHTML(page) {
    return `
      <a class="card full" href="${page.item.url}">
        <div class="text">
          <h2 class="h3">${page.item.title}</h2>
          <p>${page.item.description}</p>
          <span class="button">View Page</span>
        </div>
      </a>
    `;
  }
</script>